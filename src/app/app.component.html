<div class="app-container">
  <nav>
    <app-navbar></app-navbar>
  </nav>
  <div class="main-container">
    <main class="center-y mt-4">
      <!-- Input -->
      <section class="section">
        <data-input
          (onWeightInput)="dashboardComponent.reBuildDashboard()"
        ></data-input>
      </section>
      <!-- Dashboard -->
      <section class="section">
        <div class="container px-5">
          <div class="header">
            <h3
              [ngClass]="
                user.userStats.target.isOnTarget
                  ? 'text-success'
                  : 'text-danger'
              "
            >
              {{ user.userStats.target.message }}
              <i
                [ngClass]="{
                  bi: true,
                  'bi-emoji-smile-fill': user.userStats.target.isOnTarget,
                  'bi-emoji-frown-fill': !user.userStats.target.isOnTarget
                }"
              ></i>
            </h3>
            <span>{{ currentDate }}<i class="ms-1 bi bi-calendar3"></i></span>
          </div>
          <app-dashboard></app-dashboard>
        </div>
      </section>
      <!-- Table -->
      <section class="section">
        <data-table
          data-bs-target="#myModal"
          data-bs-toggle="modal"
          (tableClickEvent)="openModal($event)"
        ></data-table>
      </section>
    </main>
  </div>

  <!-- The Modal -->
  <div class="modal" id="myModal" *ngIf="selectedWeightLog">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Modal Heading</h4>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            (click)="closeModal()"
          ></button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          {{ selectedWeightLog.date.getDate() }}/{{
            selectedWeightLog.date.getMonth()
          }}/{{ selectedWeightLog.date.getFullYear() }}
          <br />
          {{ selectedWeightLog.weight }}
          <br />
          {{ selectedWeightLog.bmi.bmi }}
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
            (click)="closeModal()"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- <router-outlet></router-outlet> -->
</div>
